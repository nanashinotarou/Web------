<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Design Gr.3 | Practical Simulator</title>
    <style>
        /* =========================================
           THEME: IDE DARK MODE (Pro Tools)
           ãƒ—ãƒ­ã®ç¾å ´(VS Codeç­‰)ã‚’æ„è­˜ã—ãŸã€
           é›†ä¸­åŠ›ã‚’é«˜ã‚ã‚‹ãƒ€ãƒ¼ã‚¯ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
           ========================================= */
        :root {
            --bg-app: #1e1e1e;        /* VS Code Dark */
            --bg-panel: #252526;      /* Panel Grey */
            --bg-active: #37373d;     /* Active Item */
            --text-main: #d4d4d4;     /* Light Grey */
            --text-muted: #858585;    /* Muted Grey */
            --accent: #007acc;        /* VS Code Blue */
            --success: #4ec9b0;       /* Mint Green */
            --error: #f44747;         /* Red */
            --warning: #cca700;       /* Yellow */
            --font-ui: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
            --font-code: "Consolas", "Monaco", "Courier New", monospace;
        }

        * { box-sizing: border-box; }

        body {
            font-family: var(--font-ui);
            background-color: var(--bg-app);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* -------------------------------------------
           SIDEBAR (Activity Bar)
           ------------------------------------------- */
        .activity-bar {
            width: 50px;
            background: #333333;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
        }
        .icon-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-muted);
            cursor: pointer;
            border-left: 2px solid transparent;
            margin-bottom: 10px;
        }
        .icon-btn:hover { color: #fff; }
        .icon-btn.active { color: #fff; border-left-color: #fff; }
        .home-link { margin-top: auto; margin-bottom: 20px; text-decoration: none; }

        /* -------------------------------------------
           SIDE PANEL (Explorer) - ä¿®æ­£ç‰ˆ
           ------------------------------------------- */
        .sidebar {
            width: 250px;
            background: var(--bg-panel);
            border-right: 1px solid #000;
            display: flex;
            flex-direction: column;
            height: 100%; /* é«˜ã•ã‚’ç¢ºä¿ */
            overflow: hidden; /* ã‚³ãƒ³ãƒ†ãƒŠè‡ªä½“ã¯ã¯ã¿å‡ºã•ã›ãªã„ */
        }
        .sidebar-header {
            padding: 10px 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            flex-shrink: 0; /* ãƒ˜ãƒƒãƒ€ãƒ¼ãŒæ½°ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ */
        }
        .file-list { 
            list-style: none; 
            padding: 0; 
            margin: 0; 
            flex: 1;          /* ä½™ã£ãŸã‚¹ãƒšãƒ¼ã‚¹ã‚’å…¨éƒ¨ä½¿ã† */
            overflow-y: auto; /* â˜…ã“ã“ãŒé‡è¦ï¼šç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ– */
        }
        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’ã‚«ãƒƒã‚³ã‚ˆãã™ã‚‹ï¼ˆWebkitç³»ï¼‰ */
        .file-list::-webkit-scrollbar { width: 8px; }
        .file-list::-webkit-scrollbar-track { background: var(--bg-panel); }
        .file-list::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
        .file-list::-webkit-scrollbar-thumb:hover { background: #555; }

        .file-item {
            padding: 8px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-main);
        }
        .file-item:hover { background: #2a2d2e; }
        .file-item.active { background: var(--bg-active); color: #fff; }
        .file-icon { margin-right: 8px; width: 16px; text-align: center; }
        .file-status { margin-left: auto; font-size: 0.7rem; color: var(--success); display: none; }
        .file-item.done .file-status { display: block; }

        /* -------------------------------------------
           MAIN EDITOR AREA
           ------------------------------------------- */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-app);
        }

        /* Tabs */
        .editor-tabs {
            display: flex;
            background: var(--bg-panel);
            height: 35px;
            align-items: center;
        }
        .tab {
            padding: 0 15px;
            height: 100%;
            display: flex;
            align-items: center;
            background: var(--bg-app);
            border-top: 1px solid var(--accent);
            color: #fff;
            font-size: 0.9rem;
            cursor: default;
        }
        .tab-icon { margin-right: 8px; color: var(--accent); }

        /* Question Panel */
        .question-panel {
            padding: 30px;
            border-bottom: 1px solid #333;
            background: #1e1e1e;
        }
        .q-meta {
            font-size: 0.8rem;
            color: var(--accent);
            margin-bottom: 10px;
            font-weight: bold;
        }
        .q-text {
            font-size: 1.2rem;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        /* Code Input */
        .code-container {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        .line-numbers {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: var(--bg-app);
            color: #555;
            text-align: right;
            padding: 20px 10px;
            font-family: var(--font-code);
            font-size: 1rem;
            line-height: 1.5;
            border-right: 1px solid #333;
            z-index: 10;
        }
        textarea.code-editor {
            flex: 1;
            background: var(--bg-app);
            color: #d4d4d4;
            border: none;
            padding: 20px 20px 20px 50px; /* Space for line numbers */
            font-family: var(--font-code);
            font-size: 1rem;
            line-height: 1.5;
            resize: none;
            outline: none;
        }
        
        /* Feedback & Status Bar */
        .status-bar {
            height: 25px;
            background: var(--accent);
            color: #fff;
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-size: 0.8rem;
            justify-content: space-between;
        }

        .feedback-overlay {
            position: absolute;
            bottom: 30px; /* Above status bar */
            right: 20px;
            width: 400px;
            background: #252526;
            border: 1px solid #454545;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            border-radius: 4px;
            padding: 20px;
            display: none;
            animation: slideUp 0.3s ease;
            z-index: 100;
        }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .fb-header { font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; }
        .fb-header.success { color: var(--success); }
        .fb-header.error { color: var(--error); }
        .fb-content { font-size: 0.9rem; line-height: 1.6; color: #ccc; }
        .fb-code { background: #000; padding: 5px 10px; font-family: var(--font-code); color: #ce9178; display: block; margin-top: 10px; border-radius: 3px; }

        /* Buttons */
        .action-bar {
            padding: 15px;
            background: var(--bg-panel);
            border-top: 1px solid #333;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        .btn {
            background: var(--accent);
            color: #fff;
            border: none;
            padding: 8px 20px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .btn:hover { background: #0062a3; }
        .btn:disabled { background: #4d4d4d; color: #888; cursor: not-allowed; }
        .btn-secondary { background: #3c3c3c; }

    </style>
</head>
<body>

<div class="activity-bar">
    <div class="icon-btn active" title="Explorer">ğŸ“‚</div>
    <div class="icon-btn" title="Search">ğŸ”</div>
    <div class="icon-btn" title="Source Control">âš¡</div>
    
    <a href="index.html" class="icon-btn home-link" title="æ•™ç§‘æ›¸ã«æˆ»ã‚‹ (index.html)">ğŸ </a>
</div>

<div class="sidebar">
    <div class="sidebar-header">EXPLORER: QUESTIONS</div>
    <ul class="file-list" id="qList">
        </ul>
</div>

<div class="editor-area">
    <div class="editor-tabs">
        <div class="tab">
            <span class="tab-icon">ğŸ“</span>
            <span id="tabTitle">Question 1</span>
        </div>
    </div>

    <div class="question-panel">
        <div class="q-meta" id="qCategory">HTML STRUCTURE</div>
        <div class="q-text" id="qText">ã“ã“ã«å•é¡Œæ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™...</div>
    </div>

    <div class="code-container">
        <div class="line-numbers">1<br>2<br>3<br>4<br>5</div>
        <textarea id="codeEditor" class="code-editor" spellcheck="false" placeholder="// ã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
        
        <div id="feedback" class="feedback-overlay">
            <div id="fbHeader" class="fb-header"></div>
            <div id="fbBody" class="fb-content"></div>
        </div>
    </div>

    <div class="action-bar">
        <button id="hintBtn" class="btn btn-secondary" onclick="showHint()">ğŸ’¡ HINT</button>
        <button id="runBtn" class="btn" onclick="runCheck()">â–¶ RUN & CHECK</button>
        <button id="nextBtn" class="btn btn-secondary" onclick="nextQuestion()" disabled>NEXT â¡</button>
    </div>

    <div class="status-bar">
        <div id="statusMsg">Ready</div>
        <div style="display:flex; gap:15px;">
            <span>Ln 1, Col 1</span>
            <span>UTF-8</span>
            <span>HTML</span>
        </div>
    </div>
</div>

<script>
// ==========================================
// DRILL DATA (FULL 50)
// ==========================================
const DB = [
    // --- 1. HTML ---
    { id:1, cat:"HTML", title:"DOCTYPEå®£è¨€", q:"HTML5ã®æ–‡æ›¸å‹å®£è¨€ï¼ˆDOCTYPEï¼‰ã‚’è¨˜è¿°ã›ã‚ˆã€‚", a:"<!DOCTYPE html>", exp:"HTML5ã®æ¨™æº–å®£è¨€ã§ã™ã€‚å¿…é ˆã§ã™ã€‚" },
    { id:2, cat:"HTML", title:"æ–‡å­—ã‚³ãƒ¼ãƒ‰æŒ‡å®š", q:"æ—¥æœ¬èªæ–‡å­—åŒ–ã‘é˜²æ­¢ã®ãŸã‚ã€UTF-8ã‚’æŒ‡å®šã™ã‚‹metaã‚¿ã‚°ã‚’æ›¸ã‘ã€‚", a:"<meta charset=\"UTF-8\">", exp:"headã‚¿ã‚°ç›´ä¸‹ã«è¨˜è¿°ã—ã¾ã™ã€‚" },
    { id:3, cat:"HTML", title:"è¨€èªæŒ‡å®š", q:"htmlã‚¿ã‚°ã«æ—¥æœ¬èª(ja)ã®è¨€èªå±æ€§ã‚’è¿½åŠ ã—ãŸé–‹å§‹ã‚¿ã‚°ã‚’æ›¸ã‘ã€‚", a:"<html lang=\"ja\">", exp:"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆèª­ã¿ä¸Šã’ã‚½ãƒ•ãƒˆç­‰ï¼‰ã«å¿…é ˆã§ã™ã€‚" },
    { id:4, cat:"HTML", title:"ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«", q:"ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã€Œè©¦é¨“å¯¾ç­–ã€ã«è¨­å®šã›ã‚ˆã€‚", a:"<title>è©¦é¨“å¯¾ç­–</title>", exp:"ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ãƒ–ã‚„æ¤œç´¢çµæœã«ä½¿ã‚ã‚Œã¾ã™ã€‚" },
    { id:5, cat:"HTML", title:"å¤§è¦‹å‡ºã—", q:"ãƒšãƒ¼ã‚¸ã®å¤§è¦‹å‡ºã—ï¼ˆh1ï¼‰ã¨ã—ã¦ã€Œæ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«ã€ã¨è¨˜è¿°ã›ã‚ˆã€‚", a:"<h1>æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«</h1>", exp:"h1ã¯ãƒšãƒ¼ã‚¸å†…ã«åŸå‰‡1å›ä½¿ç”¨ã—ã¾ã™ã€‚" },
    { id:6, cat:"HTML", title:"æ®µè½", q:"ã€Œã‚ˆã†ã“ãã€ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’æ®µè½ã‚¿ã‚°ã§å›²ã‚ã€‚", a:"<p>ã‚ˆã†ã“ã</p>", exp:"æ–‡ç« ã®ã¾ã¨ã¾ã‚Šã«ã¯pã‚’ä½¿ã„ã¾ã™ã€‚" },
    { id:7, cat:"HTML", title:"å¼·åˆ¶æ”¹è¡Œ", q:"æ–‡ä¸­ã§å¼·åˆ¶çš„ã«æ”¹è¡Œã™ã‚‹ãŸã‚ã®ã‚¿ã‚°ã¯ï¼Ÿ", a:"<br>", exp:"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç›®çš„ã§ã¯ãªãã€ä½æ‰€ãªã©æ„å‘³ã®ã‚ã‚‹æ”¹è¡Œã«ä½¿ã„ã¾ã™ã€‚" },
    { id:8, cat:"HTML", title:"ç”»åƒè¡¨ç¤º", q:"imgãƒ•ã‚©ãƒ«ãƒ€ã®logo.pngã‚’è¡¨ç¤ºã›ã‚ˆã€‚altã¯ã€Œãƒ­ã‚´ã€ã€‚", a:"<img src=\"img/logo.png\" alt=\"ãƒ­ã‚´\">", exp:"srcã¨altã¯å¿…é ˆã‚»ãƒƒãƒˆã§ã™ã€‚" },
    { id:9, cat:"HTML", title:"ãƒªãƒ³ã‚¯", q:"index.htmlã¸ã®ãƒªãƒ³ã‚¯ã‚’ä½œæˆã›ã‚ˆã€‚æ–‡è¨€ã¯ã€Œãƒˆãƒƒãƒ—ã€ã€‚", a:"<a href=\"index.html\">ãƒˆãƒƒãƒ—</a>", exp:"hrefå±æ€§ã§é£›ã³å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚" },
    { id:10, cat:"HTML", title:"åˆ¥ã‚¿ãƒ–ãƒªãƒ³ã‚¯", q:"å¤–éƒ¨ã‚µã‚¤ãƒˆã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ãå±æ€§ã‚’è¿½åŠ ã›ã‚ˆã€‚", a:"target=\"_blank\"", exp:"target=\"_blank\"ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚" },
    { id:11, cat:"HTML", title:"ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ", q:"ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆï¼ˆé †åºãªã—ï¼‰ã®è¦ªè¦ç´ ã‚¿ã‚°ã¯ï¼Ÿ", a:"<ul></ul>", exp:"Unordered Listã§ã™ã€‚" },
    { id:12, cat:"HTML", title:"é †åºãƒªã‚¹ãƒˆ", q:"ç•ªå·ä»˜ããƒªã‚¹ãƒˆï¼ˆ1,2,3...ï¼‰ã®è¦ªè¦ç´ ã‚¿ã‚°ã¯ï¼Ÿ", a:"<ol></ol>", exp:"Ordered Listã§ã™ã€‚" },
    { id:13, cat:"HTML", title:"å®šç¾©ãƒªã‚¹ãƒˆ", q:"ç”¨èªã¨èª¬æ˜ã®ãƒªã‚¹ãƒˆã®è¦ªè¦ç´ ã‚¿ã‚°ã¯ï¼Ÿ", a:"<dl></dl>", exp:"Definition Listã§ã™ã€‚" },
    { id:14, cat:"HTML", title:"è¡¨ã®è¦‹å‡ºã—", q:"ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¦‹å‡ºã—ã‚»ãƒ«ã‚’è¡¨ã™ã‚¿ã‚°ã¯ï¼Ÿ", a:"<th></th>", exp:"tdã§ã¯ãªãthã‚’ä½¿ã„ã¾ã™ã€‚" },
    { id:15, cat:"HTML", title:"ãƒ•ãƒƒã‚¿ãƒ¼", q:"ãƒšãƒ¼ã‚¸ä¸‹éƒ¨ã‚’è¡¨ã™HTML5ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚¿ã‚°ã¯ï¼Ÿ", a:"<footer></footer>", exp:"div id='footer' ã§ã¯ãªã footer ã‚¿ã‚°ã‚’ä½¿ã„ã¾ã™ã€‚" },
    
    // --- 2. CSS ---
    { id:16, cat:"CSS", title:"æ–‡å­—è‰²", q:"æ–‡å­—è‰²ã‚’èµ¤(red)ã«ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"color: red;", exp:"font-colorã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚" },
    { id:17, cat:"CSS", title:"èƒŒæ™¯è‰²", q:"èƒŒæ™¯è‰²ã‚’é»’(#000)ã«ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"background-color: #000;", exp:"#000ã¯#000000ã®çœç•¥å½¢ã§ã™ã€‚" },
    { id:18, cat:"CSS", title:"æ–‡å­—ã‚µã‚¤ã‚º", q:"æ–‡å­—ã‚µã‚¤ã‚ºã‚’16pxã«ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"font-size: 16px;", exp:"å˜ä½(px)ã‚’å¿˜ã‚Œãšã«ã€‚" },
    { id:19, cat:"CSS", title:"å¤ªå­—", q:"æ–‡å­—ã‚’å¤ªå­—ã«ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"font-weight: bold;", exp:"æ•°å€¤(700)ã§ã‚‚å¯ã§ã™ãŒboldãŒåŸºæœ¬ã§ã™ã€‚" },
    { id:20, cat:"CSS", title:"ãƒ†ã‚­ã‚¹ãƒˆé…ç½®", q:"ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®æƒãˆã«ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"text-align: center;", exp:"ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ å†…ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¦ç´ ã«åŠ¹ãã¾ã™ã€‚" },
    { id:21, cat:"CSS", title:"ä¸‹ç·šå‰Šé™¤", q:"ãƒªãƒ³ã‚¯ã®ä¸‹ç·šã‚’æ¶ˆã™CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"text-decoration: none;", exp:"text-decorationã‚’ä½¿ã„ã¾ã™ã€‚" },
    { id:22, cat:"CSS", title:"èƒŒæ™¯ç”»åƒ", q:"imgãƒ•ã‚©ãƒ«ãƒ€ã®bg.pngã‚’èƒŒæ™¯ç”»åƒã«ã™ã‚‹CSSã¯ï¼Ÿ", a:"background-image: url('../img/bg.png');", exp:"CSSãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ãªã®ã§ '../' ãŒå¿…è¦ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã§ã™ã€‚ï¼ˆã“ã“ã§ã¯ãƒ‘ã‚¹è¨˜è¿°ã®ã¿åˆ¤å®šï¼‰" },
    { id:23, cat:"CSS", title:"èƒŒæ™¯ç¹°ã‚Šè¿”ã—", q:"èƒŒæ™¯ç”»åƒã®ç¹°ã‚Šè¿”ã—ã‚’ç¦æ­¢ã™ã‚‹å€¤ã¯ï¼Ÿ", a:"background-repeat: no-repeat;", exp:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯repeatã§ã™ã€‚" },
    { id:24, cat:"CSS", title:"å¹…ã¨é«˜ã•", q:"å¹…300pxã€é«˜ã•200pxã‚’æŒ‡å®šã›ã‚ˆã€‚", a:"width: 300px; height: 200px;", exp:"ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã®ã‚µã‚¤ã‚ºæŒ‡å®šã§ã™ã€‚" },
    { id:25, cat:"CSS", title:"å†…å´ä½™ç™½", q:"æ ç·šã®å†…å´ã«10pxã®ä½™ç™½ã‚’å…¥ã‚Œã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"padding: 10px;", exp:"Padding=ç·©è¡æã§ã™ã€‚" },
    { id:26, cat:"CSS", title:"å¤–å´ä½™ç™½", q:"æ ç·šã®å¤–å´ã«20pxã®ä½™ç™½ã‚’å…¥ã‚Œã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"margin: 20px;", exp:"Margin=ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ‡ã‚£ã‚¹ã‚¿ãƒ³ã‚¹ã§ã™ã€‚" },
    { id:27, cat:"CSS", title:"ãƒ–ãƒ­ãƒƒã‚¯ä¸­å¤®", q:"ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã‚’å·¦å³ä¸­å¤®ã«é…ç½®ã™ã‚‹marginã®æ›¸ãæ–¹ã¯ï¼Ÿ", a:"margin: 0 auto;", exp:"å·¦å³ã‚’autoã«ã™ã‚‹ã¨ä¸­å¤®ã«æ¥ã¾ã™ã€‚" },
    { id:28, cat:"CSS", title:"æ ç·š", q:"1pxã®å®Ÿç·š(solid)ã€é»’(#000)ã®æ ç·šã‚’æŒ‡å®šã›ã‚ˆã€‚", a:"border: 1px solid #000;", exp:"å¤ªã•ã€ç¨®é¡ã€è‰²ã‚’ä¸€æ‹¬æŒ‡å®šã—ã¾ã™ã€‚" },
    { id:29, cat:"CSS", title:"ãƒªã‚¹ãƒˆè¨˜å·", q:"ãƒªã‚¹ãƒˆã®ãƒ»ãƒãƒ¼ã‚¯ã‚’æ¶ˆã™ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"list-style: none;", exp:"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆæ™‚ã«å¿…é ˆã§ã™ã€‚" },
    { id:30, cat:"CSS", title:"è¡Œé–“", q:"è¡Œé–“ã‚’æ–‡å­—ã‚µã‚¤ã‚ºã®1.5å€ã«ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"line-height: 1.5;", exp:"å˜ä½ãªã—ã§æŒ‡å®šã—ã¾ã™ã€‚" },
    { id:31, cat:"CSS", title:"ãƒ›ãƒãƒ¼", q:"ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹æ“¬ä¼¼ã‚¯ãƒ©ã‚¹ã¯ï¼Ÿ", a:":hover", exp:"a:hover {} ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚" },
    { id:32, cat:"CSS", title:"å›ã‚Šè¾¼ã¿", q:"è¦ç´ ã‚’å·¦ã«å¯„ã›ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"float: left;", exp:"Float(æµ®ã)ã§ã™ã€‚" },
    { id:33, cat:"CSS", title:"å›ã‚Šè¾¼ã¿è§£é™¤", q:"Floatã‚’è§£é™¤ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"clear: both;", exp:"Floatã—ãŸã‚‰å¿…ãšClearã—ã¾ã™ã€‚" },
    { id:34, cat:"CSS", title:"è¡¨ç¤ºå½¢å¼", q:"ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¦ç´ ã‚’ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«å¤‰ãˆã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ï¼Ÿ", a:"display: block;", exp:"ã“ã‚Œã§widthãªã©ãŒåŠ¹ãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚" },
    { id:35, cat:"CSS", title:"å¤–éƒ¨CSS", q:"style.cssã‚’èª­ã¿è¾¼ã‚€linkã‚¿ã‚°ã‚’æ›¸ã‘ã€‚", a:"<link rel=\"stylesheet\" href=\"style.css\">", exp:"headå†…ã«è¨˜è¿°ã—ã¾ã™ã€‚" },
    
    // --- 3. FILE & ADVANCED ---
    { id:36, cat:"FILE", title:"è¦ªéšå±¤ãƒ‘ã‚¹", q:"ä¸€ã¤ä¸Šã®éšå±¤ã‚’è¡¨ã™ãƒ‘ã‚¹ã®è¨˜å·ã¯ï¼Ÿ", a:"../", exp:"ã€Œ../ã€ã§è¦ªãƒ•ã‚©ãƒ«ãƒ€ã«ä¸ŠãŒã‚Œã¾ã™ã€‚" },
    { id:37, cat:"FILE", title:"CSSç”»åƒãƒ‘ã‚¹", q:"CSSãƒ•ã‚©ãƒ«ãƒ€å†…ã®CSSã‹ã‚‰ã€éš£ã®imgãƒ•ã‚©ãƒ«ãƒ€ã®ç”»åƒã‚’å‚ç…§ã™ã‚‹ãƒ‘ã‚¹ã®æ›¸ãå§‹ã‚ã¯ï¼Ÿ", a:"../img/", exp:"ä¸€åº¦CSSãƒ•ã‚©ãƒ«ãƒ€ã‚’å‡ºã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
    { id:38, cat:"FILE", title:"æ‹¡å¼µå­", q:"å†™çœŸã«æœ€é©ãªã€ä¸å¯é€†åœ§ç¸®ã®ç”»åƒå½¢å¼ã¯ï¼Ÿ", a:"jpg", exp:"JPEG (Joint Photographic Experts Group) ã§ã™ã€‚" },
    { id:39, cat:"FILE", title:"é€éç”»åƒ", q:"èƒŒæ™¯é€éãŒã§ãã‚‹ç”»åƒå½¢å¼ã¯ï¼Ÿ", a:"png", exp:"PNGã¾ãŸã¯GIFã€‚å†™çœŸã¯JPEGã€‚" },
    { id:40, cat:"FILE", title:"æå‡ºå½¢å¼", q:"å®ŸæŠ€è©¦é¨“ã®æœ€å¾Œã«æå‡ºãƒ•ã‚©ãƒ«ãƒ€ã«å¯¾ã—ã¦è¡Œã†æ“ä½œã¯ï¼Ÿ", a:"zipåœ§ç¸®", exp:"å³ã‚¯ãƒªãƒƒã‚¯â†’é€ã‚‹â†’åœ§ç¸®ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã€‚" },
    { id:41, cat:"ADV", title:"è¡¨ã®éš™é–“", q:"ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒœãƒ¼ãƒ€ãƒ¼ã‚’çµåˆã•ã›ã‚‹CSSã¯ï¼Ÿ", a:"border-collapse: collapse;", exp:"éš™é–“ãªãç·šã‚’ã¤ãªã’ã¾ã™ã€‚" },
    { id:42, cat:"ADV", title:"è§’ä¸¸", q:"è¦ç´ ã®è§’ã‚’ä¸¸ãã™ã‚‹CSSã¯ï¼Ÿ", a:"border-radius", exp:"50%ã§ä¸¸ã«ãªã‚Šã¾ã™ã€‚" },
    { id:43, cat:"ADV", title:"é€æ˜åº¦", q:"è¦ç´ ã‚’åŠé€æ˜(0.5)ã«ã™ã‚‹CSSã¯ï¼Ÿ", a:"opacity: 0.5;", exp:"0ã€œ1ã®é–“ã§æŒ‡å®šã—ã¾ã™ã€‚" },
    { id:44, cat:"ADV", title:"ã‚«ãƒ¼ã‚½ãƒ«", q:"ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’æŒ‡ã®å½¢ã«ã™ã‚‹CSSã¯ï¼Ÿ", a:"cursor: pointer;", exp:"ãƒœã‚¿ãƒ³ã£ã½ãè¦‹ã›ã‚‹æ™‚ã«ä½¿ã„ã¾ã™ã€‚" },
    { id:45, cat:"ADV", title:"å„ªå…ˆé †ä½", q:"ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¼·åˆ¶çš„ã«é©ç”¨ã•ã›ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ï¼Ÿ", a:"!important", exp:"color: red !important; ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚" },
    { id:46, cat:"ADV", title:"ãƒœãƒƒã‚¯ã‚¹ã‚µã‚¤ã‚º", q:"paddingã‚’å¹…ã«å«ã‚ã‚‹è¨ˆç®—æ–¹æ³•ã¯ï¼Ÿ", a:"box-sizing: border-box;", exp:"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œã‚’é˜²ãé­”æ³•ã®è¨€è‘‰ã§ã™ã€‚" },
    { id:47, cat:"ADV", title:"ãƒ•ã‚©ãƒ³ãƒˆ", q:"ã‚´ã‚·ãƒƒã‚¯ä½“ã‚’ç·ç§°ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼åã¯ï¼Ÿ", a:"sans-serif", exp:"æ˜æœä½“ã¯serifã§ã™ã€‚" },
    { id:48, cat:"HTML", title:"Emailå…¥åŠ›", q:"ã‚¹ãƒãƒ›ã§ãƒ¡ã‚¢ãƒ‰ç”¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’å‡ºã™inputã®typeã¯ï¼Ÿ", a:"type=\"email\"", exp:"UXå‘ä¸Šã®åŸºæœ¬ã§ã™ã€‚" },
    { id:49, cat:"HTML", title:"ãƒ’ãƒ³ãƒˆè¡¨ç¤º", q:"å…¥åŠ›æ¬„ã«è–„ããƒ’ãƒ³ãƒˆã‚’è¡¨ç¤ºã™ã‚‹å±æ€§ã¯ï¼Ÿ", a:"placeholder", exp:"ä¾‹ï¼šplaceholder=\"åå‰ã‚’å…¥åŠ›\"" },
    { id:50, cat:"HTML", title:"å¿…é ˆå…¥åŠ›", q:"ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«å…¥åŠ›ã‚’å¼·åˆ¶ã™ã‚‹å±æ€§ã¯ï¼Ÿ", a:"required", exp:"ãƒ–ãƒ©ã‚¦ã‚¶æ¨™æº–ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒåƒãã¾ã™ã€‚" }
];

// ==========================================
// APP LOGIC
// ==========================================
let currentIndex = 0;
let solvedCount = 0;

// Init Sidebar
const listEl = document.getElementById('qList');
DB.forEach((item, index) => {
    const li = document.createElement('li');
    li.className = 'file-item';
    li.id = `file-${index}`;
    li.innerHTML = `
        <span class="file-icon">${getIcon(item.cat)}</span>
        <span>${item.id}. ${item.title}</span>
        <span class="file-status">âœ“</span>
    `;
    li.onclick = () => loadQuestion(index);
    listEl.appendChild(li);
});

function getIcon(cat) {
    if(cat === 'HTML') return '<span style="color:#e34c26"><></span>';
    if(cat === 'CSS') return '<span style="color:#264de4">#</span>';
    return '<span style="color:#f0ad4e">{}</span>';
}

function loadQuestion(index) {
    currentIndex = index;
    const q = DB[currentIndex];

    // UI Update
    document.querySelectorAll('.file-item').forEach(el => el.classList.remove('active'));
    document.getElementById(`file-${index}`).classList.add('active');
    
    document.getElementById('tabTitle').textContent = `Q${q.id}: ${q.title}`;
    document.getElementById('qCategory').textContent = `${q.cat} CATEGORY`;
    document.getElementById('qText').textContent = q.q;
    document.getElementById('codeEditor').value = "";
    document.getElementById('codeEditor').focus();

    // Reset Feedback
    document.getElementById('feedback').style.display = 'none';
    document.getElementById('nextBtn').disabled = true;
    document.getElementById('statusMsg').textContent = "Editing...";
    document.getElementById('statusMsg').style.color = "#fff";
}

function runCheck() {
    const q = DB[currentIndex];
    const userVal = document.getElementById('codeEditor').value.trim();
    
    // Normalize for Fuzzy Matching
    const normalize = (str) => str.toLowerCase().replace(/\s+/g, '').replace(/'/g, '"');
    const u = normalize(userVal);
    const a = normalize(q.a);

    // Simple keyword match fallback (for flexibility)
    // æ­£è§£æ–‡å­—åˆ—ã«å«ã¾ã‚Œã‚‹é‡è¦ãªå˜èªï¼ˆ3æ–‡å­—ä»¥ä¸Šï¼‰ãŒã™ã¹ã¦å«ã¾ã‚Œã¦ã„ã‚Œã°OKã¨ã™ã‚‹ç·©å’Œç­–
    const keywords = q.a.toLowerCase().split(/[\s<>"':;=]+/).filter(k => k.length > 2);
    let keywordMatch = 0;
    keywords.forEach(k => { if(userVal.toLowerCase().includes(k)) keywordMatch++; });
    const isKeywordOk = (keywords.length > 0 && keywordMatch >= keywords.length);

    const isCorrect = (u === a) || (u.includes(a)) || isKeywordOk;

    showFeedback(isCorrect, q);
}

function showFeedback(isSuccess, q) {
    const fb = document.getElementById('feedback');
    const header = document.getElementById('fbHeader');
    const body = document.getElementById('fbBody');
    const status = document.getElementById('statusMsg');

    fb.style.display = 'block';
    
    if(isSuccess) {
        header.textContent = "BUILD SUCCESS âœ…";
        header.className = "fb-header success";
        body.innerHTML = `Great job! Correct syntax verified.<br><span class="fb-code">${q.a}</span><br>${q.exp}`;
        status.textContent = "Passed";
        status.style.color = "var(--success)";
        
        // Mark as done
        document.getElementById(`file-${currentIndex}`).classList.add('done');
        document.getElementById('nextBtn').disabled = false;
    } else {
        header.textContent = "BUILD FAILED âŒ";
        header.className = "fb-header error";
        body.innerHTML = `Syntax error or mismatch.<br>Expected:<br><span class="fb-code">${q.a}</span>`;
        status.textContent = "Error";
        status.style.color = "var(--error)";
    }
}

function showHint() {
    const q = DB[currentIndex];
    alert(`ãƒ’ãƒ³ãƒˆ: ${q.a.substring(0, 3)}... ã‚’ä½¿ã„ã¾ã™ã€‚\nè§£èª¬: ${q.exp}`);
}

function nextQuestion() {
    if(currentIndex < DB.length - 1) {
        loadQuestion(currentIndex + 1);
    } else {
        alert("All Tests Passed! Congratulations!");

    }
}

// Start
loadQuestion(0);

</script>
</body>
</html>